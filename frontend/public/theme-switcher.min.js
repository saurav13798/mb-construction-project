document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("theme-toggle"),t=e.querySelector(".theme-icon"),n=["dark","light","blue"];function o(e){document.documentElement.setAttribute("data-theme",e);let n="üåô";"light"===e&&(n="‚òÄÔ∏è"),"blue"===e&&(n="üîµ"),t.textContent=n;const o=document.querySelector('meta[name="theme-color"]');if(o){let t="#000000";"light"===e&&(t="#1e293b"),"blue"===e&&(t="#0f172a"),o.setAttribute("content",t)}document.dispatchEvent(new CustomEvent("themechange",{detail:{theme:e}}))}o(localStorage.getItem("theme")||"dark"),function(){if(!document.getElementById("theme-menu")){const t=document.createElement("div");if(t.id="theme-menu",t.className="theme-menu",n.forEach(e=>{const n=document.createElement("button");n.className="theme-option",n.setAttribute("data-theme",e);let a="üåô";"light"===e&&(a="‚òÄÔ∏è"),"blue"===e&&(a="üîµ"),n.innerHTML=`<span class="theme-icon">${a}</span><span>${e.charAt(0).toUpperCase()+e.slice(1)}</span>`,n.addEventListener("click",function(t){t.stopPropagation(),o(e),localStorage.setItem("theme",e),document.getElementById("theme-menu").classList.remove("active")}),t.appendChild(n)}),e.parentNode.appendChild(t),!document.getElementById("theme-menu-styles")){const e=document.createElement("style");e.id="theme-menu-styles",e.textContent="\n                    .theme-menu {\n                        position: absolute;\n                        top: 100%;\n                        right: 0;\n                        background: var(--color-surface);\n                        border-radius: var(--radius-md);\n                        box-shadow: var(--shadow-lg);\n                        border: 1px solid var(--color-border);\n                        padding: 0.5rem;\n                        z-index: 100;\n                        display: none;\n                        backdrop-filter: var(--glass-blur);\n                        -webkit-backdrop-filter: var(--glass-blur);\n                        min-width: 150px;\n                        transform: translateY(10px);\n                        opacity: 0;\n                        transition: transform 0.3s ease, opacity 0.3s ease;\n                    }\n                    .theme-menu.active {\n                        display: block;\n                        opacity: 1;\n                        transform: translateY(0);\n                    }\n                    .theme-option {\n                        display: flex;\n                        align-items: center;\n                        gap: 0.5rem;\n                        padding: 0.5rem 1rem;\n                        width: 100%;\n                        background: none;\n                        border: none;\n                        color: var(--color-text);\n                        cursor: pointer;\n                        border-radius: var(--radius-sm);\n                        transition: background 0.2s ease;\n                        text-align: left;\n                    }\n                    .theme-option:hover {\n                        background: var(--glass-bg);\n                    }\n                    .nav-actions {\n                        position: relative;\n                    }\n                ",document.head.appendChild(e)}}}(),e.addEventListener("click",function(e){e.stopPropagation();document.getElementById("theme-menu").classList.toggle("active")}),document.addEventListener("click",function(){const e=document.getElementById("theme-menu");e&&e.classList.contains("active")&&e.classList.remove("active")})});